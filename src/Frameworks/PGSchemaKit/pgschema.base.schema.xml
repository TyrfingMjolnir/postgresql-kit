<?xml version="1.0" encoding="UTF-8"?>
<product name="com.mutablelogic.pgschema.base" version="1">
	<description>
		Provides product and serial number services for all postgresql-kit
		functionality, see https://github.com/djthorpe/postgresql-kit/wiki
		for more information.
	</description>
	<create>
		<create-table name="t_product">
			name	CHAR(80) NOT NULL,
			version	INT NOT NULL,
			description VARCHAR(200),
			date_installed TIMESTAMP NOT NULL,
			PRIMARY KEY (name),
			CONSTRAINT CHECK (version > 0)
		</create-table>
		<create-table name="t_serial">
			class        CHAR(32) NOT NULL,
			serial       INTEGER NOT NULL DEFAULT 0,
			PRIMARY KEY (class),
			CONSTRAINT CHECK (CHAR_LENGTH(class) > 0),
			CONSTRAINT CHECK (serial > 0)
		</create-table>
	</create>
	<drop>
		<drop-table name="t_product"/>
		<drop-table name="t_serial"/>
	</drop>
</product>
